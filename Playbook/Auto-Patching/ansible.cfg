# Ansible Configuration for AAP 2.5 Execution Environment
# This configuration is optimized for execution environments
# and AAP inventory/credential management

[defaults]
# AAP will manage inventory - no local inventory file needed
# inventory setting is handled by AAP job template
roles_path = roles/
collections_paths = ~/.ansible/collections:/usr/share/ansible/collections
host_key_checking = False

# AAP execution environment optimizations
stdout_callback = yaml
display_skipped_hosts = False
display_ok_hosts = True
show_custom_stats = True
gather_facts = smart
fact_caching = memory
fact_caching_timeout = 3600
ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}

# Error handling for automation
error_on_undefined_vars = True
force_valid_group_names = always
timeout = 30
retry_files_enabled = False

[privilege_escalation]
# AAP credentials will handle privilege escalation
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# Optimized for execution environment
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=300s
transfer_method = smart

[inventory]
# AAP 2.5 inventory plugins
enable_plugins = advanced_host_list, auto, constructed, host_list, ini, script, yaml

[callback_plugins]
# AAP 2.5 callback configurations for better logging
profile_tasks = True