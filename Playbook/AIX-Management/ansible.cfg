# Ansible Configuration for AAP 2.5 AIX Management
# Optimized for Ansible Automation Platform 2.5 Web Console and Execution Environments

[defaults]
# Performance and Connection Settings
host_key_checking = False
inventory = inventory/
roles_path = roles/
collections_paths = ./collections:~/.ansible/collections:/usr/share/ansible/collections
stdout_callback = yaml
bin_ansible_callbacks = True
callback_whitelist = profile_tasks, timer, mail
gathering = explicit
timeout = 30
command_timeout = 60

# AAP 2.5 Execution Environment Compatibility Settings
interpreter_python = auto_silent
retry_files_enabled = False
display_skipped_hosts = False
display_ok_hosts = True
show_custom_stats = True
ansible_managed = Ansible managed by AAP 2.5 EE - Last updated: {file} on %Y-%m-%d %H:%M:%S by {uid} on {host}

# Error Handling
error_on_undefined_vars = True
force_valid_group_names = always

# Execution Environment Optimizations
fact_caching = memory
fact_caching_timeout = 86400
fact_caching_connection = /tmp/ansible_fact_cache

# Logging (compatible with EE)
log_path = /tmp/ansible-aix.log

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml, advanced_host_list, constructed
inventory_plugins = /usr/share/ansible/plugins/inventory
cache = True
cache_plugin = memory
cache_timeout = 3600
cache_connection = /tmp/ansible_inventory_cache

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
pipelining = True

[persistent_connection]
command_timeout = 60
connect_timeout = 30

[galaxy]
server_list = automation_hub, galaxy

[galaxy_server.automation_hub]
url = https://console.redhat.com/api/automation-hub/
auth_url = https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token

[galaxy_server.galaxy]
url = https://galaxy.ansible.com/