# Ansible Configuration for AAP 2.5 Cloud Operations
# Optimized for Ansible Automation Platform 2.5 Web Console

[defaults]
# Performance and Connection Settings
host_key_checking = False
inventory = inventory/
roles_path = roles/
collections_paths = ./collections:~/.ansible/collections:/usr/share/ansible/collections
stdout_callback = yaml
bin_ansible_callbacks = True
callback_whitelist = profile_tasks, timer, mail
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cloud
fact_caching_timeout = 3600
timeout = 120
command_timeout = 300

# AAP 2.5 Compatibility Settings
interpreter_python = auto_silent
retry_files_enabled = False
display_skipped_hosts = False
display_ok_hosts = True
show_custom_stats = True
ansible_managed = Ansible managed by AAP 2.5 - Last updated: {file} on %Y-%m-%d %H:%M:%S by {uid} on {host}

# Error Handling
error_on_undefined_vars = True
force_valid_group_names = always

# Logging
log_path = /var/log/ansible-cloud.log

[inventory]
enable_plugins = host_list, yaml, ini, auto, advanced_host_list, constructed

[ssh_connection]
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=300s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path = /tmp/ansible-%%h-%%p-%%r
ssh_executable = /usr/bin/ssh
transfer_method = smart

[persistent_connection]
command_timeout = 120
connect_timeout = 60

[galaxy]
server_list = automation_hub, galaxy

[galaxy_server.automation_hub]
url = https://console.redhat.com/api/automation-hub/
auth_url = https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token

[galaxy_server.galaxy]
url = https://galaxy.ansible.com/
